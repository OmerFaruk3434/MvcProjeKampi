@using EntityLayer.Concrete
@using PagedList;
@using PagedList.Mvc;
@model PagedList.IPagedList<Content>
@{
    ViewBag.Title = "GetAllContent";
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
}
<body class="hold-transition sidebar-mini">
    @using (Html.BeginForm("GetAllContent", "Content", FormMethod.Post))
    {
        <p>
            <div class="fixed-search-bar">
                <div class="input-group input-group-sm">
                    <input style="border: 3px solid #00B4CC;" class="col-md-8 container form-control" name="p" type="search" placeholder="Ara" aria-label="Ara">
                    <button class="btn btn-navbar" type="submit">
                        <i class="fas fa-search"></i>
                    </button>
                </div>
            </div>
            <br />
            <div class="wrapper">
                <section class="content">
                    <div class="container-fluid">
                        <div class="row">
                            <div class="col-md-12">
                                <div class="timeline">
                                    @foreach (var item in Model.OrderByDescending((x => x.ContentDate)))
                                    {
                                        <div class="time-label">
                                            <span class="bg-success">@(((DateTime)item.ContentDate).ToString("dd-MMM-yyyy")) - @item.Heading.Category.CategoryName</span>
                                        </div>
                                        if (item.Writer.WriterGender == true)
                                        {
                                            <div class="time-label">
                                                <span class="bg-blue"> @item.Writer.WriterName @item.Writer.WriterSurName</span>
                                            </div>
                                        }
                                        else
                                        {
                                            <div class="time-label">
                                                <span class="bg-pink"> @item.Writer.WriterName @item.Writer.WriterSurName</span>
                                            </div>
                                        }
                                        <div>
                                            <i class="fas fa-comment bg-yellow"></i>
                                            <div class="timeline-item">
                                                <h3 class="timeline-header"><b style="color:deepskyblue">@item.Heading.HeadingName</b></h3>
                                                <div class="timeline-body">
                                                    @item.ContentValue
                                                </div>
                                            </div>
                                        </div><br />
                                    }
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
                <div style="display: flex; justify-content: center; margin-top: 7px;">
                    @Html.PagedListPager((IPagedList)Model, p => Url.Action("GetAllList", new { p }), new PagedListRenderOptions
                       {
                           LiElementClasses = new List<string>
                           { "page-link"}
                       })
                </div>
            </div>
        </p>
    }
</body>
